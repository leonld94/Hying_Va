<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>GUI - 지역별 대학 분류</title>
    <link href="https://fonts.googleapis.com/css?family=Nanum+Gothic&display=swap" rel="stylesheet">
    <style>
        body{
            margin: 0px;
            font-family: 'Nanum Gothic', sans-serif;
        }
        header{
            display: flex;
            flex-wrap: nowrap;
            align-items: center;
            justify-content: center;
            margin: 5px;
        }
        .logo{
            width: 150px;
            height: 60px;
            border: 1px solid black;
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: blue;
            color: white;
        }
        .search{
            width: 60%;
            display: flex;
            justify-content: center;
        }
        .search>*{
            position: relative;
            right: 10%;
        }
        #search{
            width: 250px;
        }
        .infor{
            text-decoration: underline;
        }
        a{
            color: red;
            text-decoration: none;
            width: 75px;
        }
        .intro{
            box-sizing: border-box;
            width: 100%;
            height: 250px;
            display: flex;
            align-items: center;
            justify-content: space-around;
            background-image: url("./Sub.png");
            border: 1px solid black;
        }
        .text{
            width: 40%;
            height: 200px;
            /*border: 1px solid black;*/
            display: flex;
            align-items: center;
        }
        #muni{
            border-bottom: 1px solid lightgray;
        }
        .upperSel{
            display: flex;
            justify-content: center;
        }
        .selection{
            background-color: lightgray;
            border: 1px solid darkgray;
            width: 60px;
            height: 30px;
            color: gray;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .lowerSel{
            display: flex;
            width: 186px;
            height: 80px;
            flex-wrap: wrap;
            justify-content: space-around;
            align-items: center;
            background-color: lightgray;
        }
        .select{
            width: 90px;
            display: flex;
            width: 70px;
            height: 25px;
            justify-content: center;
            align-items: center;
            background-color: white;
            color: darkgray;
        }
        .red{
            color: red;
        }
        .localSel{
            display: block;
            width: 100%;
        }
        .localTitle, .localBody, .colTitle, .colBody{
            box-shadow:
                -1px 0 0 0 black,
                0 -1px 0 0 black,
                -1px -1px 0 0 black,
                -1px 0 0 0 black inset,
                0 -1px 0 0 black inset;
        }
        .localTitle{
            width: 68%;
            height: 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            left: 16%;
        }
        .localBody{
            width: 68%;
            height: 600px;
            position: relative;
            left: 16%;
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            overflow-y: auto;
        }
        #selLocal{
            border: 1px solid navy;
            height: 30px;
            width: 100px;
            position: relative;
            left: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .photo{
            width: 191px;
            height: 261px;
            /*border: 1px solid black;*/
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            right: 10px;
        }
        #localCol{
            display: block;
            width: 100%;
            position: relative;
            top: 20px;
        }
        .colTitle{
            width: 68%;
            height: 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            left: 16%;
        }
        .colBody{
            width: 68%;
            display: flex;
            justify-content: space-between;
            position: relative;
            left: 16%;
            align-items: center;
        }
        .bodyBox{
            overflow: hidden;
        }
        #colLocal{
            border: 1px solid navy;
            height: 30px;
            width: 100px;
            position: relative;
            left: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .localPhoto{
            position: relative;
            width: 25px;
            height: 25px;
            right: 10px;
        }
        .college{
            width: 100%;
            margin: 0px;
            border-collapse: collapse;
            line-height: 1.5;
            margin : 20px 10px;
            text-align: center;
            background-color: #EEEEEE;
        }
        th, td{
            border: 1px solid #CCCCCC;
            font-weight: bold;
        }
        .Place{
            width: 15%;
            background-color: #AAAAAA;
        }
        .Name{
            width: 55%;
            background-color: #DDDDDD;
        }
        .SuLink{
            width: 15%;
            background-color: #DDDDDD;
        }
        .JungLink{
            width: 15%;
            background-color: #DDDDDD;
        }
        .place{
            background-color: #CCCCCC;
        }
    </style>
    <script>
        let count = [0,0];
        let i;
        const hidDiv = th => {
            const div = document.getElementsByName('localDiv')
            i = (th.id == 'selArrow') ? 0 : 1;
            count[i]++
            th.style.cssText = `display: flex; transition: 0.5s; transform: rotate(${count[i] * 180}deg);`
            console.log(div)
            div[i].style.cssText = 'display: flex; transition: 1s;'
            div[i].style.marginTop = `${(-count[i] % 2) * 100}%`
        }



        var exCollege = new Array(50);

        var seoulCollege = new Array(32);   // 서울
        var metroCollege = new Array(24);   // 광역시
        var ggCollege = new Array(15);      // 경기도
        var gwCollege = new Array(50);      // 강원도
        var gs_bCollege = new Array(50);    // 경상북도
        var gs_nCollege = new Array(50);    // 경상남도
        var jl_bCollege = new Array(50);    // 전라북도
        var jl_nCollege = new Array(50);    // 전라남도
        var cc_bCollege = new Array(50);    // 충청북도
        var cc_nCollege = new Array(50);    // 충청남도
        var allCollege = new Array(140);    // 전체 대학 총괄

        var Heap = new Array(140);          // 정렬용 배열

        var allCounter = 0;

        var exRequest;
        var exListURL="https://leonld94.github.io/University_File/Example_Universities.json"

        var seoulRequest;
        var metroRequest;
        var ggRequest;
        var gwRequest;
        var gs_bRequest;
        var gs_nRequest;
        var jl_bRequest;
        var jl_nRequest;
        var cc_bRequest;
        var cc_nRequest;

        var seoulListURL="https://leonld94.github.io/University_File/Seoul_Universities.json";      // 미완
        var metroListURL="https://leonld94.github.io/University_File/Metro_Universities.json";      //
        var ggListURL="https://leonld94.github.io/University_File/GG_Universities.json";            //
        var gwListURL="https://leonld94.github.io/University_File/GW_Universities.json";            //
        var gs_bListURL="https://leonld94.github.io/University_File/GS_B_Universities.json";        //
        var gs_nListURL="https://leonld94.github.io/University_File/GS_N_Universities.json";        //
        var jl_bListURL="https://leonld94.github.io/University_File/JL_B_Universities.json";        //
        var jl_nListURL="https://leonld94.github.io/University_File/JL_N_Universities.json";        //
        var cc_bListURL="https://leonld94.github.io/University_File/CC_B_Universities.json";        //
        var cc_nListURL="https://leonld94.github.io/University_File/CC_N_Universities.json";        //


        function exFill(json){
            var i,end;
            end=json.universities.length;
            for(i=0;i<end;i++,allCounter++){
                exCollege[i]=json.universities[i];
                allCollege[allCounter]=json.universities[i];
                Heap[allCounter]=json.universities[i];
            }
        }  
        function seoulFill(json){
            var i, end;
            end=json.universities.length;
            for(i=0;i<end;i++,allCounter++){
                seoulCollege[i]=json.universities[i];
                allCollege[allCounter]=json.universities[i];
                Heap[allCounter]=json.universities[i];
            }
        }
        function metroFill(json){
            var i, end;
            end=json.universities.length;
            for(i=0;i<end;i++,allCounter++){
                metroCollege[i]=json.universities[i];
                allCollege[allCounter]=json.universities[i];
                Heap[allCounter]=json.universities[i];
            }
        }
        function ggFill(json){
            var i, end;
            end=json.universities.length;
            for(i=0;i<end;i++,allCounter++){
                ggCollege[i]=json.universities[i];
                allCollege[allCounter]=json.universities[i];
                Heap[allCounter]=json.universities[i];
            }
        }
        function gwFill(json){
            var i, end;
            end=json.universities.length;
            for(i=0;i<end;i++,allCounter++){
                gwCollege[i]=json.universities[i];
                allCollege[allCounter]=json.universities[i];
                Heap[allCounter]=json.universities[i];
            }   
        }
        function gs_bFill(json){
            var i, end;
            end=json.universities.length;
            for(i=0;i<end;i++,allCounter++){
                gs_bCollege[i]=json.universities[i];
                allCollege[allCounter]=json.universities[i];
                Heap[allCounter]=json.universities[i];
            }
        }
        function gs_nFill(json){
            var i, end;
            end=json.universities.length;
            for(i=0;i<end;i++,allCounter++){
                gs_nCollege[i]=json.universities[i];
                allCollege[allCounter]=json.universities[i];
                Heap[allCounter]=json.universities[i];
            }
        }
        function jl_bFill(json){
            var i, end;
            end=json.universities.length;
            for(i=0;i<end;i++,allCounter++){
                jl_bCollege[i]=json.universities[i];
                allCollege[allCounter]=json.universities[i];
                Heap[allCounter]=json.universities[i];
            }
        }
        function jl_nFill(json){
            var i, end;
            end=json.universities.length;
            for(i=0;i<end;i++,allCounter++){
                jl_nCollege[i]=json.universities[i];
                allCollege[allCounter]=json.universities[i];
                Heap[allCounter]=json.universities[i];
            }
        }
        function cc_bFill(json){
            var i, end;
            end=json.universities.length;
            for(i=0;i<end;i++,allCounter++){
                cc_bCollege[i]=json.universities[i];
                allCollege[allCounter]=json.universities[i];
                Heap[allCounter]=json.universities[i];
            }
        }
        function cc_nFill(json){
            var i, end;
            end=json.universities.length;
            for(i=0;i<end;i++,allCounter++){
                cc_nCollege[i]=json.universities[i];
                allCollege[allCounter]=json.universities[i];
                Heap[allCounter]=json.universities[i];
            }   
        }

        function fillTable(){                   // 일단 모든 대학 나오게만 하고, 나중에 뭐든지 해
            var tbody=document.getElementsByTagName("tbody")[0];
            var iter, end;
            var jter, fnd;

            end=allCounter;
    
            for(iter=0;iter<end;iter++){
                var newchild=document.createElement("tr");

                var loc=document.createElement("td");
                loc.setAttribute("class","place");
                loc.innerHTML=Heap[iter].location;
                newchild.appendChild(loc);

                var name=document.createElement("td");
                name.innerHTML=Heap[iter].college_name;
                newchild.appendChild(name);

                var early=document.createElement("td");
                if(Heap[iter].early_link == "")
                    early.innerHTML="-";
                else
                    early.innerHTML="<a href='"+Heap[iter].early_link+"' target='_blank'>링크</a>";
                newchild.appendChild(early);

                var regular=document.createElement("td");
                if(Heap[iter].regular_link == "")
                    regular.innerHTML="-";
                else
                    regular.innerHTML="<a href='"+Heap[iter].regular_link+"' target='_blank'>링크</a>";
                newchild.appendChild(regular);

                tbody.appendChild(newchild);
            }
        }


        exRequest=new XMLHttpRequest();
        exRequest.open('Get',exListURL);
        exRequest.responseType='json';
        exRequest.send();
        exRequest.onload = function (){
            exFill(exRequest.response);
            fillTable();    // 맨 마지막 수신에서 호출해야함
        }

    </script>
</head>
<body>
    <header>
        <div class="logo">
            <img src="" alt="GUI Logo" onclick="location.href='Main_Page.html'">
        </div>
        <div class="search">
            <form>
                <input type="search" id="search" placeholder="어느 대학교?" required>
                <input type="submit" id="submit" value="검색">
            </form>
        </div>
        <div class="infor">
            <a href="./undefined">도움말</a>
        </div>
    </header>
    <section>
        <div class="intro">
            <div class="text">
                <div class="write">
                    현재 저희 사이트는,<br>
                    서울 소재 대학교 <span class="red">NaN개</span>,
                    경기도 소재 대학교 <span class="red">NaN개</span>,
                    충청도 ...
                </div>
            </div>
            <div class="input">
                <div class="upperSel">
                    <div class="selection" id="jeon">전형</div>
                    <div class="selection" id="muni">문/이과</div>
                    <div class="selection" id="hack">학과</div>
                </div>
                <div class="lowerSel">
                    <!-- ChungYonTa Fighting! -->
                    <div class="select">자연계</div>
                    <div class="select">공학계</div>
                    <div class="select">법학계</div>
                    <div class="select">문학계</div>
                </div>
            </div>
        </div>
    </section>
    <br>
    <section id="localSel">
        <div class="localTitle">
            <div id="selLocal">(지역 선택)</div>
            <img src="triangleDesign/triangle2.png" alt="Arrow" class="localPhoto" id="selArrow" onclick="hidDiv(this)">
        </div>
        <div class="bodyBox">
            <div class="localBody" name="localDiv">
                <div class="photo">
                    <img src="./Local_Image/11_서울.png" alt="Seoul">
                </div>
                <div class="photo">
                    <img src="./Local_Image/12_광역시.png" alt="KwangYoekSi">
                </div>
                <div class="photo">
                    <img src="./Local_Image/13_경기도.png" alt="KeongGi">
                </div>
                <div class="photo">
                    <img src="./Local_Image/14_강원도.png" alt="KangWon">
                </div>
                <div class="photo">
                    <img src="./Local_Image/15_1_경상북도.png" alt="GeongBuk">
                </div>
                <div class="photo">
                    <img src="./Local_Image/15_2_경상남도.png" alt="GeongNam">
                </div>
                <div class="photo">
                    <img src="./Local_Image/16_1_전라북도.png" alt="JeonBuk">
                </div>
                <div class="photo">
                    <img src="./Local_Image/16_2_전라남도.png" alt="JeonNam">
                </div>
                <div class="photo">
                    <img src="./Local_Image/17_1_충청북도.png" alt="ChungBuk">
                </div>
                <div class="photo">
                    <img src="./Local_Image/17_2_충청남도.png" alt="ChungNam">
                </div>
                <!-- MaxCount = 6 -->
            </div>
        </div>
    </section>
    <br>
    <section id="localCol">
        <div class="colTitle">
            <div id="colLocal">(지역 이름)</div>
            <img src="triangleDesign/triangle2.png" alt="Arrow" class="localPhoto" id="colArrow" onclick="hidDiv(this)">
        </div>
        <div class="bodyBox">
            <div class="colBody" name="localDiv">
                <table class="college">
                    <!-- JStris -->
                    <thead>
                        <tr>
                            <th class="Place">소재</th>
                            <th class="Name">대학교 이름</th>
                            <th class="SuLink">수시 링크</th>
                            <th class="JungLink">정시 링크</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="place">서울특별시</td>
                            <td>서울대학교</td>
                            <td><a href="nolink">수시 링크</a></td>
                            <td><a href="noLink">정시 링크</a></td>
                        </tr>
                        <tr>
                            <td class="place">대전광역시</td>
                            <td>KAIST</td>
                            <td><a href="undeinfed">수시 링크</a></td>
                            <td><a href="NoLink">정시 링크</a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>
</body>
</html>
